# redirect you to the correct test based on the site you want to test
from selenium import webdriver
import source_test
import button_test
import links_test

def advanced_tests(firefox_driver, current_site_url, results_sheet, site_no):

    address = 'UC Santa Cruz, 1156 High Street, Santa Cruz, Ca 95064'
    image = 'insert image name here'

    if current_site_url == 'https://www.ucsc.edu':
        # pass means UCSC logo was found
        return source_test.source_test(firefox_driver, address)


    elif current_site_url == 'https://www2.ucsc.edu' or current_site_url == 'https://news.ucsc.edu':
    	# store every link on the website
        inputs = firefox_driver.find_elements_by_xpath('//a[@href]')
        inactive_links = []
        for input in inputs:
        	# don't check empty links or logs
        	url = input.get_attribute('href')
        	if ( (url!="") and (input.text!="logs") ):
        		flag = links_test.links_test(firefox_driver, url)
        		if flag != 1:
        			inactive_links.append(url)
        results_sheet.update_cell(site_no, 7, "\n".join(inactive_links))
        return 1

    elif current_site_url == 'https://pisa.ucsc.edu/class_search/':
    	return button_test.button_test(firefox_driver)
        
