# basic validation test to be run against all sites

import timeit
from datetime import datetime
from selenium.common.exceptions import NoSuchElementException
from selenium.common.exceptions import NoAlertPresentException
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.support.ui import Select
import Selenium2Library


def basic_test (firefox_driver, results_sheet, current_site_url,site_no):

    result = 0

    # update_cell(row, col, value)
    results_sheet.update_cell(site_no, 1, str(datetime.now()))
    results_sheet.update_cell(site_no, 2, current_site_url)
    start_time = timeit.default_timer()

    try:
        # load the site!
        firefox_driver.get(current_site_url)
        elapsed = timeit.default_timer() - start_time

        # log results to Google sheet
        results_sheet.update_cell(site_no, 3, firefox_driver.title)
        results_sheet.update_cell(site_no, 4, elapsed)
               
    except:
        result = -1
        results_sheet.update_cell(site_no, 3, 'failed')
        
    return result

